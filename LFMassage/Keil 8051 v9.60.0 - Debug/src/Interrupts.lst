C51 COMPILER V9.60.0.0   INTERRUPTS                                                        10/13/2021 20:43:42 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE INTERRUPTS
OBJECT MODULE PLACED IN .\src\Interrupts.OBJ
COMPILER INVOKED BY: C:\SiliconLabs\SimplicityStudio\v5\developer\toolchains\keil_8051\9.60\BIN\C51.exe C:\Users\donny\S
                    -implicityStudio\v5_workspace\LFMassage\src\Interrupts.c OMF2 SMALL DEBUG OBJECTEXTEND ROM(LARGE) WARNINGLEVEL(2) FLOATFU
                    -ZZY(3) OPTIMIZE(8,SPEED) DEFINE(DEBUG=1) INTVECTOR(0X0000) INTPROMOTE INCDIR(C:\Users\donny\SimplicityStudio\v5_workspac
                    -e\LFMassage\inc;C:/SiliconLabs/SimplicityStudio/v5/developer/sdks/8051/v4.2.1//Device/shared/si8051Base;C:/SiliconLabs/S
                    -implicityStudio/v5/developer/sdks/8051/v4.2.1//Device/EFM8BB1/inc) PRINT(.\src\Interrupts.lst) COND PAGEWIDTH(120) PAGEL
                    -ENGTH(65) OBJECT(.\src\Interrupts.OBJ)

line level    source

   1          //=========================================================
   2          // src/Interrupts.c: generated by Hardware Configurator
   3          //
   4          // This file will be regenerated when saving a document.
   5          // leave the sections inside the "$[...]" comment tags alone
   6          // or they will be overwritten!
   7          //=========================================================
   8          
   9          // USER INCLUDES
  10          #include <SI_EFM8BB1_Register_Enums.h>
  11          #include "driver.h"
  12          
  13          //-----------------------------------------------------------------------------
  14          // TIMER2_ISR
  15          //-----------------------------------------------------------------------------
  16          //
  17          // TIMER2 ISR Content goes here. Remember to clear flag bits:
  18          // TMR2CN0::TF2H (Timer # High Byte Overflow Flag)
  19          // TMR2CN0::TF2L (Timer # Low Byte Overflow Flag)
  20          //
  21          //-----------------------------------------------------------------------------
  22          SI_INTERRUPT (TIMER2_ISR, TIMER2_IRQn)
  23            {
  24   1          TMR2CN0_TF2H = 0;
  25   1          toggleSwitch();
  26   1        }
  27          
  28          //-----------------------------------------------------------------------------
  29          // ADC0EOC_ISR
  30          //-----------------------------------------------------------------------------
  31          //
  32          // ADC0EOC ISR Content goes here. Remember to clear flag bits:
  33          // ADC0CN0::ADINT (Conversion Complete Interrupt Flag)
  34          //
  35          //-----------------------------------------------------------------------------
  36          SI_INTERRUPT (ADC0EOC_ISR, ADC0EOC_IRQn)
  37            {
  38   1          static uint32_t accumulator = 0;
  39   1          static uint16_t measurements = 64;
  40   1          uint32_t result = 0;
  41   1          uint32_t mv;
  42   1      
  43   1          ADC0CN0_ADINT = 0;
  44   1      
  45   1          accumulator += ADC0;
  46   1          measurements--;
  47   1      
  48   1          if (measurements == 0)
  49   1            {
  50   2              measurements = 64;
  51   2              result = accumulator / 64;
C51 COMPILER V9.60.0.0   INTERRUPTS                                                        10/13/2021 20:43:42 PAGE 2   

  52   2              accumulator = 0;
  53   2      
  54   2              mv = (result * 2800) / 1023;
  55   2              driver_updateSens(mv);
  56   2            }
  57   1        }
  58          
  59          //-----------------------------------------------------------------------------
  60          // CMP0_ISR
  61          //-----------------------------------------------------------------------------
  62          //
  63          // CMP0 ISR Content goes here. Remember to clear flag bits:
  64          // CMP0CN0::CPFIF (Comparator Falling-Edge Flag)
  65          // CMP0CN0::CPRIF (Comparator Rising-Edge Flag)
  66          //
  67          //-----------------------------------------------------------------------------
  68          SI_INTERRUPT (CMP0_ISR, CMP0_IRQn)
  69            {
  70   1          CMP0CN0 &= ~(CMP0CN0_CPRIF__BMASK | CMP0CN0_CPFIF__BMASK);
  71   1          setBtnMode(true);
  72   1        }
  73          
  74          //-----------------------------------------------------------------------------
  75          // INT0_ISR
  76          //-----------------------------------------------------------------------------
  77          //
  78          // INT0 ISR Content goes here. Remember to clear flag bits:
  79          // TCON::IE0 (External Interrupt 0)
  80          //
  81          //-----------------------------------------------------------------------------
  82          SI_INTERRUPT (INT0_ISR, INT0_IRQn)
  83            {
  84   1          setBtnMinus(true);
  85   1        }
  86          
  87          //-----------------------------------------------------------------------------
  88          // INT1_ISR
  89          //-----------------------------------------------------------------------------
  90          //
  91          // INT1 ISR Content goes here. Remember to clear flag bits:
  92          // TCON::IE1 (External Interrupt 1)
  93          //
  94          //-----------------------------------------------------------------------------
  95          SI_INTERRUPT (INT1_ISR, INT1_IRQn)
  96            {
  97   1          setBtnPlus(true);
  98   1        }
  99          
 100          //-----------------------------------------------------------------------------
 101          // TIMER3_ISR
 102          //-----------------------------------------------------------------------------
 103          //
 104          // TIMER3 ISR Content goes here. Remember to clear flag bits:
 105          // TMR3CN0::TF3H (Timer # High Byte Overflow Flag)
 106          // TMR3CN0::TF3L (Timer # Low Byte Overflow Flag)
 107          //
 108          //-----------------------------------------------------------------------------
 109          SI_INTERRUPT (TIMER3_ISR, TIMER3_IRQn)
 110            {
 111   1          TMR3CN0 &= ~(TMR3CN0_TF3H__BMASK | TMR3CN0_TF3LEN__BMASK);
 112   1      
 113   1          toggleBuzz();
 114   1        }
C51 COMPILER V9.60.0.0   INTERRUPTS                                                        10/13/2021 20:43:42 PAGE 3   

 115          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    510    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      6       4
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
